{
    "info": {
        "_postman_id": "12345678-1234-1234-1234-123456789012",
        "name": "GraphQL Gateway API Tests",
        "description": "Postman collection to test GraphQL endpoints in the gateway service including auth",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
        {
            "name": "Auth Mutations",
            "item": [
                {
                    "name": "Firebase Authentication",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation AuthenticateWithFirebase($input: FirebaseAuthInput!) {\n  authenticateWithFirebase(input: $input) {\n    statusCode\n    message\n    tokens {\n      accessToken\n      refreshToken\n      expiresIn\n      user {\n        id\n        email\n        fullName\n        role\n      }\n    }\n    error\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"idToken\": \"firebase-id-token-here\",\n    \"provider\": \"google\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                }
            ]
        },
        {
            "name": "User Queries",
            "item": [
                {
                    "name": "Get User By Email",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query GetUserByEmail($email: String!) {\n  getUserByEmail(email: $email) {\n    statusCode\n    message\n    user {\n      id\n      fullName\n      email\n      countryCode\n      phoneNumber\n      role\n      createAt\n      updateAt\n    }\n  }\n}",
                                "variables": "{\n  \"email\": \"test@example.com\"\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                }
            ]
        },
        {
            "name": "User Mutations",
            "item": [
                {
                    "name": "Create New User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation CreateUser($input: CreateUserInput!) {\n  createUser(input: $input) {\n    statusCode\n    message\n    user {\n      id\n      fullName\n      email\n      countryCode\n      phoneNumber\n      role\n      createAt\n      updateAt\n    }\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"fullName\": \"John Doe\",\n    \"email\": \"john.doe@example.com\",\n    \"password\": \"securePassword123\",\n    \"countryCode\": \"+1\",\n    \"phoneNumber\": \"1234567890\",\n    \"role\": \"user\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                },
                {
                    "name": "Login User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation LoginUser($email: String!, $password: String!) {\n  loginUser(email: $email, password: $password) {\n    statusCode\n    message\n    user {\n      id\n      fullName\n      email\n      role\n    }\n    accessToken\n  }\n}",
                                "variables": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"securePassword123\"\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                },
                {
                    "name": "Forget Password",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation ForgetPassword($email: String!, $type: String!) {\n  forgetPassword(email: $email, type: $type) {\n    statusCode\n    message\n    verifyCode\n  }\n}",
                                "variables": "{\n  \"email\": \"john.doe@example.com\",\n  \"type\": \"1\"\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                },
                {
                    "name": "Verify Code",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation VerifyCode($email: String!, $verifyCode: String!) {\n  verifyCode(email: $email, verifyCode: $verifyCode) {\n    statusCode\n    message\n    response\n  }\n}",
                                "variables": "{\n  \"email\": \"john.doe@example.com\",\n  \"verifyCode\": \"123456\"\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                },
                {
                    "name": "Reset Password",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation ResetPassword($email: String!, $password: String!) {\n  resetPassword(email: $email, password: $password) {\n    statusCode\n    message\n    response\n  }\n}",
                                "variables": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"newSecurePassword123\"\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                },
                {
                    "name": "Update User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}",
                                "description": "JWT access token for authentication"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation UpdateUser($input: UpdateUserInput!) {\n  updateUser(input: $input) {\n    statusCode\n    message\n    user {\n      id\n      fullName\n      email\n      countryCode\n      phoneNumber\n      role\n      updateAt\n    }\n  }\n}",
                                "variables": "{\n  \"input\": {\n    \"email\": \"john.doe@example.com\",\n    \"fullName\": \"John Updated Doe\",\n    \"countryCode\": \"+1\",\n    \"phoneNumber\": \"9876543210\",\n    \"role\": \"admin\"\n  }\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                },
                {
                    "name": "Delete User",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{accessToken}}",
                                "description": "JWT access token for authentication"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "mutation DeleteUser($userId: String!) {\n  deleteUser(userId: $userId) {\n    statusCode\n    message\n    response\n    error {\n      code\n      message\n      details\n      timestamp\n    }\n  }\n}",
                                "variables": "{\n  \"userId\": \"{{userIdToDelete}}\"\n}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                }
            ]
        },
        {
            "name": "GraphQL Introspection",
            "item": [
                {
                    "name": "Get Schema",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "graphql",
                            "graphql": {
                                "query": "query IntrospectionQuery {\n  __schema {\n    queryType {\n      name\n    }\n    mutationType {\n      name\n    }\n    types {\n      name\n      kind\n      description\n    }\n  }\n}",
                                "variables": "{}"
                            }
                        },
                        "url": {
                            "raw": "http://localhost:3000/graphql",
                            "protocol": "http",
                            "host": ["localhost"],
                            "port": "3000",
                            "path": ["graphql"]
                        }
                    }
                }
            ]
        }
    ],
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:3000",
            "type": "string"
        }
    ]
}
